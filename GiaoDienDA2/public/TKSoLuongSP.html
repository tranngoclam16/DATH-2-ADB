<!DOCTYPE html>
<html lang="en">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Kiểm Tra Số Lượng Tồn</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/TKDT.css">
    <script src="../js/ThongKeDT_CH.js"></script>
    <br><br>
    <nav class="navbar"></nav>
    <script src="../js/nav_admin.js"></script>
    <script>
      var currentPage = 0;
      var SL=0;
      var MaCH="";
      function goToPage(value){
               currentPage += value;
               console.log("sl: ",SL);
               console.log("MaCH:",MaCH);
                fetchTableSL(currentPage*100,MaCH,SL);              
      }
  </script>
</head>
<style>
   .tableFixHeight {
      overflow-y: auto;
      height: 690px;
    }
    .tableFixHeight thead th {
      position: sticky;
      top: 0;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th,
    td {
      padding: 8px 16px;
      border: 1px solid #ccc;
    }
    th {
      background: #eee;
    }
</style>
<body style="display: block; background: rgb(253, 250, 250)">
<div id="main" class="offset-xl-0.5 col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 padding">
  <div class="card">
    <div class="card-header p-4">
      <h2>Kiểm Tra Số Lượng Tồn</h2>
        <div>
            <form>
                <input id="MaCH" type="text" placeholder="Mã Cửa Hàng" />
                <input id="SoLuong" type="text" placeholder="Số Lượng Kiểm tra" />
                <input id="submit" class="but" type="button" value="Xem">
                <input id="submit_all" class="but" type="button" value="Xem tất cả cửa hàng">
            </form>
        </div>
    </div> 
       
    <div class="card-body">
      <div class="template">
        <h3>
          <div class="field" style="width:100%;"> Tổng sản phẩm: <span id="template-Tong"></span></div>
        </h3>
      </div>
      <br>
      <div class="tableFixHeight">
        <table class="table table-striped" style="float: left;background: #fae8ea;">
          <thead>
            <tr>
              <th class="text-center" scope="col">#</th>
                <th scope="col">Mã cửa hàng</th>
                <th scope="col">Mã sản phẩm</th>
                <th scope="col">Tên sản phẩm</th>
                <th scope="col">Số lượng tồn</th>
            </tr>
          </thead>
            <tbody id="listProduct"></tbody>
        </table>
      </div>
    </div>
    <div class="card-footer text-muted">
      <span style="float: right; padding-left: 50px" id="currentPage" ></span>
        <Button onClick="goToPage(1)"  style="float: right">Trang kế</Button>
        <Button onClick="goToPage(-1)" style="float: left" >Trang trước</Button>
    </div>
  </div>
</div>
<br><br>

<script id="entry-template" type="text/x-handlebars-template">
  {{#each this}}
  <tr>
      <th scope="row">{{ROWNUMBER}}</th>
      <td>{{MaCH}}</td>
      <td>{{MaSP}}</td>
      <td>{{TenSP}}</td>
      <td>{{SoLuongTon}}</td>
  </tr>
  </div>
  {{/each}}
</script>

<script>
  submit.addEventListener('click', function() {
    MaCH=$('#MaCH').val()
    SL=$('#SoLuong').val()
    fetchTableSL(0,MaCH,SL); 
  });
  submit_all.addEventListener('click', function() {
    MaCH=""
    SL=$('#SoLuong').val()
    fetchTableSL(0,MaCH,SL);
  });
</script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.1/handlebars.min.js"></script>
</body>
</html>




  
